CREATE TABLE IF NOT EXISTS diaper_changes (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  uuid UUID NOT NULL,
  started_at TIMESTAMP NOT NULL,
  poo_count INT NOT NULL,
  pee_count INT NOT NULL,
  note TEXT NULL,

  
  baby_id BIGINT REFERENCES babies ON DELETE CASCADE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  modified_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TRIGGER update_diaper_changes_modtime BEFORE UPDATE ON diaper_changes FOR EACH ROW EXECUTE PROCEDURE  update_modified_column();